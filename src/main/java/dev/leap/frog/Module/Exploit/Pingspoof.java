package dev.leap.frog.Module.Exploit;

import dev.leap.frog.Event.Network.EventPacket;
import dev.leap.frog.Module.Module;
import dev.leap.frog.Settings.Settings;
import me.zero.alpine.fork.listener.EventHandler;
import me.zero.alpine.fork.listener.Listener;
import net.minecraft.network.Packet;
import net.minecraft.network.play.client.CPacketKeepAlive;
import net.minecraft.network.play.server.SPacketKeepAlive;

import java.util.Queue;
import java.util.concurrent.ConcurrentLinkedDeque;

public class Pingspoof extends Module {

    public Pingspoof() {
        super("Ping Spoof", "Spoofs packets so it looks like player is lagging", Type.EXPLOIT);
    }

    Settings delay = create("Delay", "Delay", 50, 1, 1000);

    @Override
    public void onUpdate() {
        if(mc.player == null || mc.world == null) return;


    }

    @EventHandler
    private Listener<EventPacket.ReceivePacket> packetListener = new Listener<>(event -> {

        if(event.getPacket() instanceof SPacketKeepAlive && mc.player.isEntityAlive() && !mc.isSingleplayer()) {
            event.cancel();

            ((SPacketKeepAlive) event.getPacket()).getId();
        }

    });

}
